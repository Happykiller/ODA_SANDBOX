var wowhead_tooltips={colorlinks:!0,iconizelinks:!0,renamelinks:!0};!function(){"use strict";function _init(){$.Oda.Event.addListener({name:"oda-fully-loaded",callback:function(e){$.Oda.App.startApp()}})}var VERSION="0.1";$.Oda.App={version:VERSION,colorCard:{Commune:"#848484",Commune_inv:"#B0B0B0",Rare:"#2E2EFE",Rare_inv:"#5A5AFF","Épique":"#8904B1","Épique_inv":"#AA61C1","Légendaire":"#FF8000","Légendaire_inv":"#FFB163"},colorClasse:{Death_Knight:"#C41F3B",Druide:"#FF7D0A",Chasseur:"#ABD473",Mage:"#69CCF0",Moine:"#00FF96",Paladin:"#F58CBA","Prêtre":"#FFFFFF",Voleur:"#FFF569",Chaman:"#0070DE","Démoniste":"#9482C9",Guerrier:"#C79C6E"},chosenClass:"",tab_sets:["Tous","Expert","La Malédiction de Naxxramas","Gobelins et Gnomes","Mont Rochenoire"],example:function(p_params){try{return!0}catch(er){return $.Oda.Log.error("$.Oda.App.example : "+er.message),null}},startApp:function(p_params){try{return $.Oda.Context.projectLabel="ODA HOW",$.Oda.Router.addDependencies("wowhead",{ordered:!1,list:[{elt:"http://wowjs.zamimg.com/widgets/power.js",type:"script"}]}),$.Oda.Router.addRoute("home",{path:"partials/home.html",title:"oda-main.home-title",urls:["","home"],dependencies:["dataTables","wowhead"],middleWares:[$.Oda.Router.routeMiddleWares.support(),$.Oda.Router.routeMiddleWares.auth()]}),$.Oda.Router.addRoute("saisir_paquet",{path:"partials/paquet-add.html",title:"paquet-add.title",urls:["saisir_paquet"],dependencies:["dataTables","wowhead"],middleWares:[$.Oda.Router.routeMiddleWares.support(),$.Oda.Router.routeMiddleWares.auth()]}),$.Oda.Router.addRoute("rapports_cartes",{path:"partials/rapports_cartes.html",title:"rapports-cartes.title",urls:["rapports_cartes"],dependencies:["dataTables","hightcharts","wowhead"],middleWares:[$.Oda.Router.routeMiddleWares.support(),$.Oda.Router.routeMiddleWares.auth()]}),$.Oda.Router.addRoute("gerer_collection",{path:"partials/gerer_collection.html",title:"gerer-coll.title",urls:["gerer_collection"],dependencies:["dataTables","wowhead"],middleWares:[$.Oda.Router.routeMiddleWares.support(),$.Oda.Router.routeMiddleWares.auth()]}),$.Oda.Router.addRoute("gerer_deck",{path:"partials/gerer_deck.html",title:"gerer-deck.title",urls:["gerer_deck"],dependencies:["dataTables","wowhead"],middleWares:[$.Oda.Router.routeMiddleWares.support(),$.Oda.Router.routeMiddleWares.auth()]}),$.Oda.Router.startRooter(),this}catch(er){return $.Oda.Log.error("$.Oda.App.startApp : "+er.message),null}},Controler:{GererDeck:{start:function(p_params){try{return $.Oda.App.Controler.GererDeck.loadListDeck(),this}catch(er){return $.Oda.Log.error("$.Oda.App.Controler.GererDeck.start : "+er.message),null}},loadListDeck:function(p_params){try{$.Oda.Display.loading({elt:$("#listDeckContent")});var tabSetting={functionRetour:function(p_retour){var strhtml='<table cellpadding="0" cellspacing="0" border="0" class="display hover" id="table_listDeck" style="width: 100%"></table>';$("#listDeckContent").html(strhtml);{var objDataTable=$.Oda.Tooling.objDataTableFromJsonArray(p_retour.data.listDeck.data);$("#table_listDeck").dataTable({sPaginationType:"full_numbers",iDisplayLength:20,aaData:objDataTable.data,aaSorting:[[5,"desc"],[2,"desc"]],aoColumns:[{sTitle:"Nom"},{sTitle:"Classe"},{sTitle:"Quote"},{sTitle:"Type"},{sTitle:"Date",sClass:"dataTableColCenter",sWidth:"175px"},{sTitle:"Actif",sClass:"dataTableColCenter"},{sTitle:"Action",sClass:"dataTableColCenter"}],aoColumnDefs:[{mRender:function(data,type,row){var strHtml="<a href=\"javascript:$.Oda.App.Controler.ManageDeck.seeDeck({id:'"+row[0]+"'});\">"+row[1]+"</a>";return strHtml},aTargets:[0]},{mRender:function(data,type,row){var strHtml=row[2];return strHtml},aTargets:[1]},{mRender:function(data,type,row){var quote=parseInt(row[objDataTable.entete.quote]);return"display"==type?quote+"%":quote},aTargets:[2]},{mRender:function(data,type,row){var strHtml=row[3];return strHtml},aTargets:[3]},{mRender:function(data,type,row){var strHtml=row[4];return strHtml},aTargets:[4]},{mRender:function(data,type,row){var strHtml=row[5];return strHtml},aTargets:[5]},{mRender:function(data,type,row){var strHtml='<button class="btn btn-default btn-xs" onclick="$.Oda.App.Controler.ManageDeck.editDeck({id:\''+row[0]+'\'});" href="#">Ouvrir le deck</button>';return strHtml},aTargets:[6]}],fnDrawCallback:function(oSettings){$("#table_listDeck").removeClass("display").addClass("table table-striped table-bordered")}})}}},tabInput={code_user:$.Oda.Session.code_user,option_actif:"",type:""};return $.Oda.Interface.callRest($.Oda.Context.rest+"phpsql/getListDeck.php",tabSetting,tabInput),this}catch(er){return $.Oda.Log.error("$.Oda.App.Controler.GererDeck.loadListDeck : "+er.message),null}}}}},_init()}();